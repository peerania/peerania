#!/usr/bin/env bash
# Execute a commadn against a bitcoin node
set -e
#compile

contract='peerania'

if [ "$1" = "debug" ]
then
    echo -e "\e[31mCompiling debug contract!!!\e[0m"
    eosio-cpp -o ./src/contracts/peerania/peerania.wasm ./src/contracts/peerania/peerania_debug.cpp -I./src/contracts/utils/ -R./src/contracts/peerania/rc --contract=$contract

    eosio-cpp -o ./src/contracts/peerania.token/peerania.token.wasm ./src/contracts/peerania.token/peerania.token_debug.cpp -I./src/contracts/utils/
else
    eosio-cpp -o ./src/contracts/peerania/peerania.wasm ./src/contracts/peerania/peerania.cpp -I./src/contracts/utils/ -R./src/contracts/peerania/rc --contract=$contract

    eosio-cpp -o ./src/contracts/peerania.token/peerania.token.wasm ./src/contracts/peerania.token/peerania.token.cpp -I./src/contracts/utils/
fi

echo -e "\e[92mCompilation done! :)\e[0m"
